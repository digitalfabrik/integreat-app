parameters:
  production_delivery:
    description: Whether builds are delivered to the production store. If set to true, jira and github releases are created.
    type: boolean
docker:
  - image: circleci/node:12.16.3
resource_class: small
context:
  - slack-app
  - deliverino
steps:
  - checkout
  - attach_workspace:
      at: .
  - restore_environment_variables
  - restore_yarn_cache
  # TODO create github release and slack alert
  - slack/notify:
      message: Integreat ${NEW_VERSION_NAME} has been released successfully on iOS!
      webhook: ${SLACK_URL}
  - notify_failed
