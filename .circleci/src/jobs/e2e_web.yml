docker:
  - image: cimg/node:18.14.1-browsers
  - image: selenium/standalone-chrome
resource_class: medium
shell: /bin/bash -eo pipefail
steps:
  - checkout
  - skip_job
  - prepare_workspace
  - restore_yarn_cache
  - restore_yarn_e2e_cache
  - run:
      name: 'Start WebApp'
      command: yarn workspace web start:integreat-e2e
      background: true
  - run:
      name: 'Web E2E Tests'
      working_directory: e2e-tests
      command: yarn test:web
  - notify
