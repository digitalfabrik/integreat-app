docker:
  - image: circleci/node:14.9.0
  - image: selenium/hub
    name: hub
  - image: selenium/node-chrome
    environment:
      HUB_PORT_4444_TCP_ADDR: hub
      HUB_PORT_4444_TCP_PORT: 4444
resource_class: small
shell: /bin/bash -eo pipefail
steps:
  - skip_job
  - checkout
  - prepare_workspace
  - restore_yarn_cache
  - run:
      name: "Start WebApp"
      command: yarn workspace web start
      background: true
  - run:
      name: "Web E2E Tests"
      command: yarn workspace e2e test:web
  - notify
